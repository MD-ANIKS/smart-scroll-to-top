!(function ($) {
    "use strict";
    var defaults = {
      backgroundColor: "#262626",
      rounded: typeof wpssttRounded !== "undefined" ? wpssttRounded : true,
      customRadius: typeof wpssttCustomRadius !== "undefined" && wpssttCustomRadius ? wpssttCustomRadius : "",
      minWidth: "45px",
      minHeight: "45px",
      width: wpssttButtonWidth || "45px",
      height: wpssttButtonHeight || "45px",
      bottom: wpssttBottomPosition || "25px",
      right: wpssttRightPosition || "25px",
      padding: "10px",
      zIndex: "999999999999999999",
      windowScrollShow: typeof wpssttWindowScrollShow !== "undefined" && wpssttWindowScrollShow !== "" ? wpssttWindowScrollShow : 600,
      speed: typeof wpssttScrollSpeed !== "undefined" && wpssttScrollSpeed !== "" ? wpssttScrollSpeed : 300,
      duration: 400,
      mobileOnly: typeof wpssttMobileOnly !== "undefined" ? wpssttMobileOnly : false,
      customHtml: "",
      iconUrl: typeof wpssttIconUrl !== "undefined" ? wpssttIconUrl : "",
      searchIcon: typeof wpssttSearchIcon !== "undefined" ? wpssttSearchIcon : "fa-angle-up",
    };
    $(document).ready(function () {
      if ($("#wpsstt_gotop").length === 0) {
        $("body").append('<div id="wpsstt_gotop"></div>');
      }
      defaults.customHtml = defaults.iconUrl
        ? '<img src="' + defaults.iconUrl + '" alt="Scroll to top icon" />'
        : '<i class="fa ' + defaults.searchIcon + '"></i>';
      $("#wpsstt_gotop").wpsstt_gotop({ customHtml: defaults.customHtml });
    });
    $.fn.wpsstt_gotop = function (options) {
      var opts = $.extend({}, defaults, options),
        isMobile = $.fn.wpsstt_gotop.isMobile(),
        $el = this;
      return this.each(function () {
        $el.hide().css("opacity", 0);
        $el.css({
          cursor: "pointer",
          position: "fixed",
          "align-items": "center",
          "justify-content": "center",
          backgroundColor: opts.background,
          color: opts.color,
          minWidth: opts.minWidth,
          minHeight: opts.minHeight,
          width: opts.width,
          height: opts.height,
          bottom: opts.bottom,
          right: opts.right,
          padding: opts.padding,
          zIndex: opts.zIndex,
          borderRadius: opts.customRadius
            ? opts.customRadius
            : opts.rounded
            ? "50%"
            : "0",
          borderRadius: wpssttRadiusType === "custom" && wpssttCustomRadius ? wpssttCustomRadius : wpssttRadiusType === "rounded" ? "50%" : "0",
        });
        $el.html(opts.customHtml || "&uarr;");
        $el.on("click", function (e) {
          e.preventDefault();
          $("html, body").animate({ scrollTop: 0 }, opts.speed);
        });
        if (opts.mobileOnly == true) {
          if (isMobile) {
            $(window).on("scroll", function () {
              $(window).scrollTop() > opts.windowScrollShow
                ? $el.css("opacity") == 0 && $el.stop(!0, !0).fadeTo(opts.duration, 1).css("display", "flex")
                : $el.stop(!0, !0).fadeTo(opts.duration, 0, function () {
                    $(this).hide();
                  });
            });
          }
        } else {
          $(window).on("scroll", function () {
            $(window).scrollTop() > opts.windowScrollShow
              ? $el.css("opacity") == 0 && $el.stop(!0, !0).fadeTo(opts.duration, 1).css("display", "flex")
              : $el.stop(!0, !0).fadeTo(opts.duration, 0, function () {
                  $(this).hide();
                });
          });
        }
      });
    };
    $.fn.wpsstt_gotop.isMobile = function () {
      return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    };
  })(jQuery);
  